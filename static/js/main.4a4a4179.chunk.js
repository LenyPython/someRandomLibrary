(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{194:function(e,n,t){},195:function(e,n,t){"use strict";t.r(n);var r,a=t(0),c=t.n(a),o=t(64),i=t.n(o),s=t(23),d=t(26),l=t(67),u=t(32),b=t(40);!function(e){e[e.dark=0]="dark",e[e.light=1]="light"}(r||(r={}));var j,h,f,x,p,m,O,v,g,k,y,w,S={theme:r.light,isLoading:!0,snackbar:{open:!1,vertical:"top",horizontal:"center",alert:"success",message:""}},B=Object(b.b)({name:"componenstState",initialState:S,reducers:{changeTheme:function(e){e.theme===r.light?e.theme=r.dark:e.theme=r.light},changeIsLoading:function(e,n){e.isLoading=n.payload},closeSnackbar:function(e){e.snackbar.open=!1},sendMessage:function(e,n){var t=n.payload,r=t.alert,a=t.message;e.snackbar=Object(u.a)(Object(u.a)({},e.snackbar),{},{open:!0,alert:r,message:a})}}}),E=B.actions,A=E.closeSnackbar,N=E.changeTheme,R=E.changeIsLoading,I=E.sendMessage,T=function(e){return e.componentsState.theme},D=function(e){return e.componentsState.isLoading},C=function(e){return e.componentsState.snackbar},_=B.reducer,U=t(99),W=function(){return Object(U.b)()},z=U.c,M=t(2),G=d.b.label(j||(j=Object(s.a)(["\n  position:relative;\n  width: 80px;\n  height: 35px;\n  margin-left: 1.2em;\n  input {\n    position: relative;\n    appearance: none;\n    z-index: 1;\n  }\n  span{\n    background: var(--secondary-color);\n    position: absolute;\n    border-radius: 17px;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    & > div {\n      position: absolute;\n      transition: all .4s;\n      top: 5px;\n      left: 5px;\n    }\n   }\n   input:checked ~ span div{\n    left: 50px;\n   }\n"]))),F=function(){var e=z(T),n=W();return Object(M.jsxs)(G,{children:[Object(M.jsx)("input",{type:"checkbox",onChange:function(){n(N())},checked:e===r.dark}),Object(M.jsx)("span",{children:Object(M.jsx)("div",{children:e===r.dark?Object(M.jsx)(l.a,{icon:"fluent:weather-sunny-24-filled",width:"25",height:"25",color:"yellow"}):Object(M.jsx)(l.a,{icon:"ri:moon-fill",width:"25",height:"25",color:"grey"})})})]})},P=t(51),q=d.b.div(h||(h=Object(s.a)(["\n  background: var(--bg-color);\n  width: 100%;\n  height: 100%;\n  padding: 2em;\n  display: grid;\n  grid-template-columns: 150px 1fr;\n"]))),K=d.b.div(f||(f=Object(s.a)(["\nwidth: 100%;\ngrid-column: 2;\n"]))),L=d.b.div(x||(x=Object(s.a)(["\n  box-sizing: border-box;\n  grid-column: 1;\n  background: var(--secondary-color);\n  border-radius 10px;\n  width: 100%;\n  padding: .6em;\n  text-align: center;\n  p{\n    margin: .3em auto;\n  }\n"]))),H=Object(d.b)(P.b)(p||(p=Object(s.a)(["\n  display: inline-block;\n  font-weight: 600;\n  text-decoration: none;\n  width: 90%;\n  background: var(--main-color);\n  border-radius: .4em;\n  border: none;\n  padding: .3em 0;\n  margin: .3em;\n  color: var(--main-button-font-color);\n  cursor: pointer;\n  &.event {\n    background: var(--main-error-color);\n  }\n"]))),V=d.b.button(m||(m=Object(s.a)(["\n  font-weight: 600;\n  width: 90%;\n  background: var(--main-color);\n  border-radius: .4em;\n  border: none;\n  padding: .3em 0;\n  margin: .3em;\n  color: var(--main-button-font-color);\n  cursor: pointer;\n"]))),J=Object(d.b)(P.c)(O||(O=Object(s.a)(["\n  text-decoration: none;\n  font-size: 1.2em;\n  color: var(--main-header-font-color);\n  margin: 0 .6em;\n  &.login {\n    background: var(--main-color);\n    border: 1px solid var(--main-header-font-color);\n    border-radius: 5px;\n    padding: .4em .8em;\n  }\n  &:hover {\n    opacity: .7;\n  }\n  &:active {\n    font-weight: bold;\n  }\n"]))),Y=d.b.div(v||(v=Object(s.a)(["\n  display: flex;\n  background: var(--secondary-color);\n  border-radius: 5px;\n  margin: 0 1em;\n  padding: 2em 3em;\n  & > * {\n    margin: .6em 1em;\n  }\n"]))),Q=Object(b.b)({name:"currentUser",initialState:{id:null,email:null},reducers:{onUserChange:function(e,n){var t=n.payload,r=t.id,a=t.email;e.id=r,e.email=a,e.admin=!1},setAdminPrivlidge:function(e){e.admin=!0}}}),Z=Q.actions,X=Z.onUserChange,$=Z.setAdminPrivlidge,ee=function(e){return e.currentUser},ne=Q.reducer,te=t(1),re=t.n(te),ae=t(5),ce=t(33),oe=t(148),ie=t(83),se=Object(oe.a)({apiKey:"AIzaSyD6ZVxwv54vQMmIrBMkFqT0gHZMcnbtaQ0",authDomain:"somelib-aaec9.firebaseapp.com",projectId:"somelib-aaec9",storageBucket:"somelib-aaec9.appspot.com",messagingSenderId:"872735298226",appId:"1:872735298226:web:ff7879d177fe033524afa"}),de=Object(ce.i)(se),le=de,ue=Object(ie.b)(se),be=function(){var e=Object(ae.a)(re.a.mark((function e(n,t){var r,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)(ue,n,t);case 2:return r=e.sent,a=r.user,e.next=6,Object(ce.j)(Object(ce.f)(de,"users",a.uid),{admin:!1,email:a.email});case 6:return e.next=8,Object(ce.j)(Object(ce.f)(de,"borrowed",a.uid),{books:[]});case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),je=function(){var e=Object(ae.a)(re.a.mark((function e(n,t){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.d)(ue,n,t);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),he=function(){var e=Object(ae.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.e)(ue);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=Object(b.b)({name:"books",initialState:{list:[]},reducers:{setState:function(e,n){e.list=n.payload},addBook:function(e,n){e.list.push(n.payload)},removeBooks:function(e,n){var t=n.payload;e.list=e.list.filter((function(e){return!t.has(e.id)}))},changeBookStatus:function(e,n){var t=n.payload,r=t.id,a=t.available;e.list.forEach((function(e){e.id===r&&(e.available=a)}))}}}),xe=fe.actions,pe=xe.setState,me=xe.addBook,Oe=xe.removeBooks,ve=xe.changeBookStatus,ge=function(e){return e.books.list},ke=fe.reducer;!function(e){e.SAVE_BOOK="SAVE_BOOK",e.SAVE_BORROWED_BOOKS="SAVE_BORROWED_BOOKS",e.GET_BOOK="GET_BOOK"}(g||(g={})),function(e){e.ERROR="ERROR"}(k||(k={})),function(e){e.GET_DATA="GET_DATA",e.SAVE_DATA="SAVE_DATA",e.EMPTY_DATA="EMPTY_DATA",e.UPDATE_REQUESTS="UPDATE_REQUESTS"}(y||(y={})),function(e){e.CHECK_ADMIN_PRIV="CHECK_ADMIN_PRIV",e.GET_USERS="GET_USERS",e.CHANGE_STATUS="CHANGE_STATUS",e.GET_BORROWED="GET_BORROWED",e.BORROW_RETURN="BORROW_RETURN"}(w||(w={}));var ye,we,Se,Be,Ee,Ae,Ne,Re,Ie,Te,De,Ce=function(e){return{type:k.ERROR,payload:e}},_e=function(e){return{type:w.GET_BORROWED,payload:e}},Ue=function(e,n,t){return{type:w.BORROW_RETURN,payload:{id:e,uid:n,status:t}}},We=function(e,n){return{type:w.CHANGE_STATUS,payload:{id:e,admin:n}}},ze=function(){var e=W(),n=z(ee),t=n.id,r=n.email;return Object(M.jsx)(M.Fragment,{children:t&&r?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{to:"/account",children:" Account "}),Object(M.jsx)(J,{className:"login",to:"/home",onClick:function(){try{he(),e(pe([]))}catch(n){e(Ce({alert:"error",message:"Error durring singout"}))}},children:" LogOut "})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{className:"login",to:"/login",children:" Login "}),Object(M.jsx)(J,{className:"login",to:"/register",children:" Register "})]})})},Me=d.b.div(ye||(ye=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  min-height: var(--nav-height);\n  background: var(--main-color);\n  color: var(--main-header-font-color);\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: auto 5%;\n  margin: 0;\n  h1 {\n    font-family: var(--logo-font);\n    color: var(--main-header-font-color);\n    font-size: 3.2rem;\n  }\n  div {\n    display: flex;\n    align-items: center;\n  }\n"]))),Ge=function(){var e=z(ee),n=e.email,t=e.admin;return Object(M.jsxs)(Me,{children:[Object(M.jsx)("h1",{children:t?"Admin account":"Bookler"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(J,{to:"/home",children:" Home "}),n?Object(M.jsx)("p",{children:n}):Object(M.jsx)(J,{to:"/browse",children:" Browse "}),Object(M.jsx)(ze,{}),Object(M.jsx)(F,{})]})]})},Fe=d.b.div(we||(we=Object(s.a)(["\n  background: var(--bg-color);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  h1 { \n    font-size: 7rem;\n    font-family: var(--logo-font);\n  }\n  p {\n    font-size: 1.3em;\n  }\n"]))),Pe=function(){return Object(M.jsxs)(Fe,{children:[Object(M.jsx)("h1",{children:"Welcomek to Bookler"}),Object(M.jsx)("p",{children:"HI, hello yeti yatha.. etc. Browse for your books"})]})},qe=d.b.div(Se||(Se=Object(s.a)(["\n  width: 150px;\n  height: 150px;\n  overflow: hidden;\n  margin-right: 2.5rem;\n  transition: .4s;\n  &:hover{\n    margin-right: 5rem;\n    overflow: visible;\n  }\n"]))),Ke=d.b.img(Be||(Be=Object(s.a)(["\n  width: 150px;\n  transition: all .4s;\n  &:hover{\n    width: 200px;\n    transform: translateY(-40%);\n  }\n"]))),Le=Object(d.b)(l.a)(Ee||(Ee=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  color: var(--main-error-color);\n"]))),He=function(e){var n=e.image,t=e.title;return Object(M.jsx)(qe,{children:n?Object(M.jsx)(Ke,{src:n,alt:"Cover: ".concat(t)}):Object(M.jsx)(Le,{icon:"carbon:no-image"})})},Ve=function(e){var n=e.title,t=e.authors;return Object(M.jsxs)("div",{children:[Object(M.jsx)("h3",{children:n}),Object(M.jsx)("p",{children:t.join(", ")})]})},Je=d.b.div(Ae||(Ae=Object(s.a)(["\n  display: flex;\n  & > * {\n    margin: auto 2em;\n  }\n  h3 {\n    font-size: 1.5rem;\n  }\n  p{\n    font-size: 1rem;\n  }\n\n"]))),Ye=function(e){var n=z(ee).admin,t=e.id,r=e.title,a=e.cover;return Object(M.jsxs)(Je,{children:[Object(M.jsx)(He,{title:r,image:a}),n&&Object(M.jsxs)("h4",{children:["ID: ",t]}),Object(M.jsx)(Ve,Object(u.a)({},e))]})},Qe=Object(b.b)({name:"currentRequests",initialState:{toAdd:[],toDelete:[],length:0},reducers:{addToAdd:function(e,n){e.toAdd.push(n.payload),e.length++,sessionStorage.setItem("toAdd",JSON.stringify(e.toAdd))},addToDelete:function(e,n){e.toDelete.push(n.payload),e.length++,sessionStorage.setItem("toDelete",JSON.stringify(e.toDelete))},removeToAdd:function(e,n){e.toAdd=e.toAdd.filter((function(e){return e.id!==n.payload})),e.length--,sessionStorage.setItem("toAdd",JSON.stringify(e.toAdd))},removeToDelete:function(e,n){e.toDelete=e.toDelete.filter((function(e){return e.id!==n.payload})),e.length--,sessionStorage.setItem("toDelete",JSON.stringify(e.toDelete))},emptyRequests:function(e){e.toAdd=[],sessionStorage.setItem("toAdd",JSON.stringify(e.toAdd)),e.toDelete=[],sessionStorage.setItem("toDelete",JSON.stringify(e.toDelete)),e.length=0}}}),Ze=Qe.actions,Xe=Ze.addToAdd,$e=Ze.addToDelete,en=Ze.removeToAdd,nn=Ze.removeToDelete,tn=Ze.emptyRequests,rn=function(e){return e.requests},an=function(e){return e.requests.length},cn=Qe.reducer,on=t(84),sn=d.b.div(Ne||(Ne=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: .9em 1.3em;\n  margin: 0 1.2em 1.2em;\n  border-radius: 15px;\n  background: var(--secondary-color);\n  & > * {\n    margin: auto 2em;\n  }\n  h3 {\n    font-size: 1.5rem;\n  }\n  p{\n    font-size: 1rem;\n  }\n"]))),dn=Object(d.b)(P.b)(Re||(Re=Object(s.a)(["\n  border-radius: 10px;\n  text-decoration: none;\n  display: inline-block;\n  border: none;\n  font-size: 1.3rem;\n  margin: auto .5em;\n  padding: .2em .4em;\n  background: var(--main-color);\n  color: var(--main-button-font-color);\n  cursor: pointer;\n"]))),ln=function(e){var n=e.id,t=e.available,r=z(ee).admin,a=W();return Object(M.jsxs)(sn,{children:[Object(M.jsx)(Ye,Object(u.a)({},e)),Object(M.jsx)("div",{children:r?Object(M.jsx)(on.a,{color:"error",variant:"contained",onClick:function(){a($e(e)),a(Ce({alert:"error",message:"Book addet to delete requests"}))},children:"Delete Entry"}):t?Object(M.jsx)(dn,{to:"/account/borrow/".concat(n),children:"Borrow It!"}):Object(M.jsx)(on.a,{variant:"contained",disabled:!0,children:"Unavailable"})})]})},un=function(e){var n=[];for(var t in e)n.push(Object(M.jsx)(ln,Object(u.a)({},e[t]),"".concat(e[t].id)));return n},bn=d.b.div(Ie||(Ie=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  background: var(--secondary-color);\n  width: 100%;\n  min-height: 500px;\n  max-width: 1200px;\n  border-radius: 20px;\n  padding: 20px;\n  h1{\n    margin: 3em auto;\n  }\n"]))),jn=function(){var e=z(ge),n=z(ee).id,t=un(e);return Object(M.jsx)(bn,{children:t.length>0||n?t:Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:"Please Login or Register to browse content..."}),Object(M.jsx)(ze,{})]})})},hn=t(37),fn=function(){var e=Object(hn.i)().url,n=z(an),t=n>0?"event":"";return Object(M.jsxs)(L,{children:[Object(M.jsx)(H,{to:"".concat(e),children:"Browse"}),Object(M.jsx)(H,{to:"".concat(e,"/add"),children:"Add entry"}),Object(M.jsxs)(H,{className:t,to:"".concat(e,"/requests"),children:["Requests ",n>0&&"".concat(n)]}),Object(M.jsx)(H,{to:"".concat(e,"/show_users"),children:"Users"}),Object(M.jsx)(V,{onClick:he,children:"Logout"})]})},xn=t(11),pn=t(151),mn=t(71),On=t(273),vn=Object(b.b)({name:"foundEntries",initialState:[],reducers:{addToFound:function(e,n){e.unshift(n.payload),e.length>5&&e.pop()}}}),gn=vn.actions.addToFound,kn=function(e){return e.found},yn=vn.reducer,wn=Object(mn.a)({components:{MuiDataGrid:{styleOverrides:{root:{backgroundColor:"var(--secondary-color)",color:"var(--main-font-color)"}}}}}),Sn=function(){var e=W(),n=z(kn).map((function(e,n){return{id:n,author:e.authors.join(" "),ISBN:e.ISBN,title:e.title,cover:e.cover}})),t=[{field:"author",flex:1,headerName:"Author"},{field:"title",flex:1,headerName:"Title"},{field:"ISBN",flex:1,headerName:"ISBN"},{field:"cover",flex:1,headerName:"Cover",renderCell:function(e){var n;return Object(M.jsx)("img",{src:null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.toString(),width:"200",alt:"Cover img"})}},{field:"btn",headerName:"Add Entry",renderCell:function(n){var t=n.row,r={id:"",authors:[t.author],ISBN:t.ISBN,title:t.title,cover:t.cover,available:!0};return Object(M.jsx)(on.a,{onClick:function(){return e(Xe(r)),void e(Ce({alert:"success",message:"Book added to requests"}))},variant:"contained",color:"primary",size:"small",children:"Add"})}}];return Object(M.jsx)("div",{children:Object(M.jsx)(On.a,{theme:wn,children:Object(M.jsx)(pn.a,{autoHeight:!0,disableColumnMenu:!0,disableColumnSelector:!0,disableColumnFilter:!0,hideFooter:!0,rows:n,columns:t})})})},Bn=d.b.div(Te||(Te=Object(s.a)(["\n  background: var(--secondary-color);\n  padding: 2em;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom:  35px;\n  a {\n    text-decoration: none;\n  }\n  .search-bar {\n    display: flex;\n  }\n  input {\n    height: 1.8rem;\n    font-size: 1.1rem;\n    padding: 0 .4em;\n    margin: .4em;\n    &:invalid {\n      border: 2px solid var(--main-error-color);\n    }\n    }\n  label {\n    font-size: 1.2rem;\n    margin: .4em;\n  }\n  button {\n    border: none;\n    border-radius: 5px;\n    font-size: 1.1rem;\n    width: 150px;\n    background: var(--main-color);\n    color: var(--main-button-font-color);\n    margin: 1em auto;\n    }\n    #error-msg{\n      font-size: 1.3rem;\n      color: var(--main-error-color);\n      margin: .5em;\n    }\n"]))),En=function(){var e=Object(a.useState)(""),n=Object(xn.a)(e,2),t=n[0],r=n[1],c=W();return Object(M.jsxs)(Bn,{children:[Object(M.jsxs)("div",{className:"search-bar",children:[Object(M.jsxs)("label",{htmlFor:"ISBN",children:["Search ",Object(M.jsx)("a",{href:"https://openlibrary.org/explore",children:"OpenLibrary "}),"by ISBN( 10 or 13 char):",Object(M.jsx)("input",{type:"text",onChange:function(e){var n=e.target.value;n.match(/\D+/)||r(n)},name:"ISBN",value:t})]}),Object(M.jsx)("button",{onClick:function(){var e;10===t.length||13===t.length?c((e=t,{type:g.GET_BOOK,payload:e})):c(Ce({alert:"error",message:"ISBN number must be 10 or 13 numbers long"}))},children:"Search..."})]}),Object(M.jsx)("div",{id:"error-msg"}),Object(M.jsx)("h2",{children:"Latest search: "}),Object(M.jsx)(Sn,{})]})};!function(e){e.author="author",e.title="title",e.img="img",e.ISBN="ISBN"}(De||(De={}));var An,Nn,Rn,In,Tn,Dn,Cn,_n,Un,Wn,zn,Mn,Gn=Object(b.b)({name:"addNewPositionForm",initialState:{author:"",title:"",img:"",ISBN:""},reducers:{changeAuthor:function(e,n){e.author=n.payload},changeTitle:function(e,n){e.title=n.payload},changeImg:function(e,n){e.img=n.payload},changeISBN:function(e,n){e.ISBN=n.payload}}}),Fn=Gn.actions,Pn=Fn.changeISBN,qn=Fn.changeAuthor,Kn=Fn.changeTitle,Ln=Fn.changeImg,Hn=function(e){return e.addFormState},Vn=Gn.reducer,Jn=d.b.div(An||(An=Object(s.a)(["\nwidth: 90%;\ntext-align: center;\nmargin: auto;\nform {\n  background: var(--secondary-color);\n  padding: 2em;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  input {\n    height: 2rem;\n    font-size: 1.3rem;\n    padding: 0 .4em;\n    &:invalid {\n      border: 2px solid var(--main-error-color);\n    }\n  }\n  label {\n    font-size: 1.5rem;\n    margin: .4em;\n    color: var(--main-font-color);\n    }\n  button {\n    border: none;\n    border-radius: 5px;\n    font-size: 1.1rem;\n    width: 150px;\n    background: var(--main-color);\n    color: var(--main-button-font-color);\n    margin: 1em auto;\n    }\n  }\n"]))),Yn=function(){var e=W(),n=z(Hn),t=n.author,r=n.title,a=n.img,c=n.ISBN,o=function(n){n.preventDefault();var t=n.target.value;switch(n.target.name){case De.author:e(qn(t));break;case De.title:e(Kn(t));break;case De.img:e(Ln(t));break;case De.ISBN:if(t.match(/\D+/))return;e(Pn(t));break;default:throw new Error("Something went wrong with filling the form...")}};return Object(M.jsxs)(Jn,{children:[Object(M.jsx)(En,{}),Object(M.jsxs)("form",{onSubmit:function(n){(n.preventDefault(),""!==t&&""!==r)&&(e(gn({id:"",ISBN:c,authors:[t],title:r,available:!0,cover:a})),e(Kn("")),e(qn("")),e(Ln("")))},children:[Object(M.jsx)("label",{htmlFor:"ISBN",children:"ISBN"}),Object(M.jsx)("input",{type:"text",onChange:o,name:De.ISBN,value:c}),Object(M.jsx)("label",{htmlFor:"author",children:"Author"}),Object(M.jsx)("input",{type:"text",onChange:o,name:De.author,value:t}),Object(M.jsx)("label",{htmlFor:"title",children:"Title"}),Object(M.jsx)("input",{type:"text",onChange:o,name:De.title,value:r}),Object(M.jsx)("label",{htmlFor:"img",children:"Cover image"}),Object(M.jsx)("input",{type:"url",onChange:o,name:De.img,value:a}),Object(M.jsx)("button",{type:"submit",children:"Add book"})]})]})},Qn=t(271),Zn=function(){var e=z(rn),n=W(),t=function(e,t){n("add"===t?en(e):nn(e))},r=e.toDelete.map((function(e){return Object(M.jsxs)("div",{children:["ISBN: ".concat(e.ISBN||"none",", \n      Title: ").concat(e.title,",\n      authors: ").concat(e.authors.join(" ")),Object(M.jsx)("br",{}),Object(M.jsx)(on.a,{color:"error",variant:"outlined",onClick:function(){return t(e.id,"del")},children:"Remove Request"})]},e.id)})),a=e.toAdd.map((function(e){return Object(M.jsxs)("div",{children:["ISBN: ".concat(e.ISBN||"none",",\n      Title: ").concat(e.title,",\n      authors: ").concat(e.authors.join(" ")),Object(M.jsx)("br",{}),Object(M.jsx)(on.a,{color:"error",variant:"outlined",onClick:function(){return t(e.id,"add")},children:"Remove Request"})]},e.authors.join("")+e.title+e.ISBN)}));return Object(M.jsxs)(Qn.a,{textAlign:"center",children:[Object(M.jsx)(on.a,{color:"success",variant:"contained",onClick:function(){var t;n((t=e,{type:y.UPDATE_REQUESTS,payload:t}))},sx:{margin:"15px auto"},children:" Make changes to DB"}),Object(M.jsxs)(Y,{children:[Object(M.jsxs)(K,{children:[Object(M.jsx)("h2",{children:"Books to Add"}),a]}),Object(M.jsxs)(K,{children:[Object(M.jsx)("h2",{children:"Books to Delete"}),r]}),Object(M.jsx)("br",{})]})]})},Xn=Object(b.b)({name:"Users",initialState:{users:[]},reducers:{setUsers:function(e,n){e.users=n.payload},updateUserStatus:function(e,n){var t=n.payload,r=t.id,a=t.admin;e.users.forEach((function(e){e.id===r&&(e.admin=a)}))},removeUsers:function(e){e.users=[]}}}),$n=Xn.actions,et=$n.setUsers,nt=$n.updateUserStatus,tt=function(e){return e.usersData.users},rt=Xn.reducer,at=d.b.div(Nn||(Nn=Object(s.a)(["\n  border: 2px solid var(--main-color);\n  min-width: 350px;\n  width: 30%;\n  border-radius: 5px;\n  padding: 20px;\n  margin: 1em auto;\n  p {\n    margin: .5em\n  }\n"]))),ct=function(){var e=z(tt),n=W(),t=e.map((function(e){var t;return Object(M.jsxs)(at,{children:[Object(M.jsxs)("p",{children:["Id: ",e.id]}),Object(M.jsxs)("p",{children:["Email: ",null!==(t=null===e||void 0===e?void 0:e.email)&&void 0!==t?t:"None"]}),Object(M.jsxs)("p",{children:["Admin permison: ",e.admin?"true":"false"]}),e.admin?Object(M.jsx)(on.a,{color:"secondary",onClick:function(){n(We(e.id,!1))},children:"Take admin rights"}):Object(M.jsx)(on.a,{color:"success",onClick:function(){n(We(e.id,!0))},children:"Give admin rights"})]},e.id)}));return Object(M.jsx)(Y,{children:t})},ot=function(){var e=Object(hn.i)(),n=z(ge),t=un(n);return Object(M.jsxs)(q,{children:[Object(M.jsx)(fn,{}),Object(M.jsxs)(hn.d,{children:[Object(M.jsx)(hn.b,{path:"".concat(e.path,"/add"),children:Object(M.jsx)(Yn,{})}),Object(M.jsx)(hn.b,{path:"".concat(e.path,"/show_users"),children:Object(M.jsx)(ct,{})}),Object(M.jsx)(hn.b,{path:"".concat(e.path,"/requests"),children:Object(M.jsx)(Zn,{})}),Object(M.jsx)(hn.b,{path:"".concat(e.path),exact:!0,children:Object(M.jsx)(K,{children:t})})]})]})},it=Object(b.b)({name:"borrowedBooks",initialState:{list:[]},reducers:{saveMyBorrowed:function(e,n){e.list=n.payload},addMyBorrowed:function(e,n){e.list.push(n.payload)},removeMyBorrowed:function(e,n){e.list=e.list.filter((function(e){return e!==n.payload}))}}}),st=it.actions,dt=st.saveMyBorrowed,lt=st.removeMyBorrowed,ut=st.addMyBorrowed,bt=function(e){return e.borrowedBooks.list},jt=function(e){return e.borrowedBooks.list.length},ht=it.reducer,ft=function(){var e=Object(hn.i)(),n=z(jt),t=n>0?"event":"";return Object(M.jsxs)(L,{children:[Object(M.jsx)(H,{to:"".concat(e.url),children:"Browse"}),Object(M.jsxs)(H,{className:t,to:"".concat(e.url,"/borrowed"),children:["My Borrowed ",n>0?"".concat(n):""]}),Object(M.jsx)(V,{onClick:he,children:"Log out"})]})},xt=d.b.div(Rn||(Rn=Object(s.a)(["\n  background: var(--secondary-color);\n  border-radius: 15px;\n  padding: 2rem;\n  margin: auto 3em;\n  display: grid;\n  grid-template-columns: 300px 1fr;\n"]))),pt=d.b.div(In||(In=Object(s.a)(["\n  width: 300px;\n  grid-column; 1;\n  img{\n    width: 100%;\n  }\n"]))),mt=d.b.div(Tn||(Tn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  grid-area: 1/2;\n  padding: 2em;\n"]))),Ot=function(){var e=W(),n=z(ee),t=z(ge),r=Object(hn.h)().id;if(!r)return Object(M.jsx)("h2",{children:"No such book index"});if(!n)return Object(M.jsx)("h2",{children:" You must be logged in to borrow a book "});var a=t.find((function(e){return e.id===r}));if(void 0===a)return Object(M.jsx)("h1",{children:"Something went wrong..."});var c=a,o=c.available,i=c.cover,s=c.title,d=c.authors;return Object(M.jsxs)(xt,{children:[Object(M.jsx)(pt,{children:i?Object(M.jsx)("img",{src:i,alt:"cover"}):Object(M.jsx)(Le,{icon:"carbon:no-image"})}),Object(M.jsxs)(mt,{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{children:s}),Object(M.jsx)("h3",{children:d.join(" ")})]}),o?Object(M.jsx)(on.a,{onClick:function(){e(Ue(r,n.id,!o))},variant:"contained",sx:{background:"var(--main-color)",color:"var(--main-button-font-color)"},children:"Borrow it"}):Object(M.jsx)(on.a,{variant:"contained",disabled:!0,children:"Unavailable"})]})]})},vt=t(16),gt=Object(b.b)({name:"currentReadBook",initialState:{book:{authors:"",title:"",cover:"",ISBN:"",open:!1}},reducers:{setCurrentRead:function(e,n){var t=n.payload,r=t.authors,a=t.title,c=t.cover,o=t.ISBN;e.book={authors:r.join(", "),title:a,cover:c,ISBN:o,open:!0}},closeWindow:function(e){e.book.open=!1}}}),kt=gt.actions,yt=kt.setCurrentRead,wt=kt.closeWindow,St=function(e){return e.currentRead.book},Bt=gt.reducer,Et=d.b.div(Dn||(Dn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-evenly;\n  min-height: 250px;\n"]))),At=function(){var e=W(),n=z(bt),t=z(ee),r=z(ge);if(0===n.length)return Object(M.jsx)(Y,{children:Object(M.jsx)("h1",{children:"No Books borrowed"})});var a={};for(var c in r)a[r[c].id]=+c;var o,i=[],s=Object(vt.a)(n);try{var d=function(){var n=o.value,c=r[a[n]],s=c.title,d=c.authors;i.push(Object(M.jsxs)(Et,{children:[Object(M.jsx)("h2",{children:s}),Object(M.jsx)("h3",{children:d.join(", ")}),Object(M.jsx)(on.a,{variant:"contained",onClick:function(){return e(yt(r[a[n]]))},sx:{background:"var(--main-color)",color:"var(--main-button-font-color)"},children:"Read"}),Object(M.jsx)(on.a,{onClick:function(){return function(n){e(Ue(n,t.id,!0))}(n)},variant:"contained",sx:{background:"var(--main-color)",color:"var(--main-button-font-color)"},children:"Return"})]},n))};for(s.s();!(o=s.n()).done;)d()}catch(l){s.e(l)}finally{s.f()}return Object(M.jsx)(Y,{children:i})},Nt=function(){var e=Object(hn.i)().url,n=z(ge),t=un(n);return Object(M.jsxs)(q,{children:[Object(M.jsx)(ft,{}),Object(M.jsxs)(hn.d,{children:[Object(M.jsx)(hn.b,{exact:!0,path:e,children:Object(M.jsx)(K,{children:t})}),Object(M.jsx)(hn.b,{path:"".concat(e,"/borrow/:id"),children:Object(M.jsx)(Ot,{})}),Object(M.jsx)(hn.b,{path:"".concat(e,"/borrowed"),children:Object(M.jsx)(At,{})})]})]})},Rt=function(){var e=z(ee),n=e.id,t=e.email,r=e.admin;return n&&t?r?Object(M.jsx)(ot,{}):Object(M.jsx)(Nt,{}):Object(M.jsx)(hn.a,{to:"/home"})},It=t(132),Tt=d.b.form(Cn||(Cn=Object(s.a)(["\n  background: white;\n  border-radius: 10px;\n  padding: 8em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),Dt=function(e){var n=e.reg,t=W(),r=Object(hn.g)(),c=Object(a.useState)(""),o=Object(xn.a)(c,2),i=o[0],s=o[1],d=Object(a.useState)(""),l=Object(xn.a)(d,2),u=l[0],b=l[1],j=Object(a.useState)(""),h=Object(xn.a)(j,2),f=h[0],x=h[1],p=function(e){var n=e.target,t=n.name,r=n.value;"email"===t&&s(r),"pass1"===t&&b(r),"pass2"===t&&x(r)},m=function(){var e=Object(ae.a)(re.a.mark((function e(){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(R(!0)),!n||!f){e.next=8;break}return e.next=5,be(i,u);case 5:t(Ce({alert:"success",message:"User created"})),e.next=10;break;case 8:return e.next=10,je(i,u);case 10:s(""),b(""),x(""),r.push("/account"),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(0),a="Error during signIn",e.t0 instanceof Error&&(a=e.t0.message),t(Ce({alert:"error",message:a})),t(R(!1));case 22:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(Tt,{children:[Object(M.jsx)(It.a,{label:"Email",margin:"normal",variant:"standard",type:"email",name:"email",value:i,onChange:p,required:!0}),Object(M.jsx)(It.a,{label:"Password",margin:"normal",variant:"standard",type:"password",name:"pass1",value:u,onChange:p,required:!0}),n&&Object(M.jsx)(It.a,{label:"Retype Password",margin:"normal",variant:"standard",type:"password",name:"pass2",value:f,onChange:p,required:!0}),Object(M.jsx)(on.a,{variant:"contained",color:"primary",onClick:m,children:n?"Register":"SignIn"})]})},Ct=function(){return Object(M.jsxs)(hn.d,{children:[Object(M.jsx)(hn.b,{path:"/browse",children:Object(M.jsx)(jn,{})}),Object(M.jsx)(hn.b,{path:"/account",children:Object(M.jsx)(Rt,{})}),Object(M.jsx)(hn.b,{path:"/home",children:Object(M.jsx)(Pe,{})}),Object(M.jsx)(hn.b,{path:"/login",children:Object(M.jsx)(Dt,{})}),Object(M.jsx)(hn.b,{path:"/register",children:Object(M.jsx)(Dt,{reg:!0})}),Object(M.jsx)(hn.b,{path:"/someRandomLibrary",exact:!0,children:Object(M.jsx)(Pe,{})}),Object(M.jsx)(hn.b,{path:"/",exact:!0,children:Object(M.jsx)(Pe,{})}),Object(M.jsx)(hn.b,{path:"*",children:Object(M.jsx)("h1",{children:"Error 404 route does not exist"})})]})},_t=Object(d.a)(_n||(_n=Object(s.a)(["\n:root {\n\t--logo-font: 'Pacifico', cursive;\n\t--normal-font: 'Fira Sans Condensed', sans-serif;\n\n  --main-color: ",";\n\t--secondary-color: ","; \n  --bg-color: ",";\n\t--main-error-color: ",";\n\n  --main-header-font-color: ",";\n  --main-button-font-color: ",";\n  --main-font-color: ",";\n\n\n\t--nav-height: 75px;\n}\n* {\n  box-sizing: border-box;\n\tpadding:0;\n\tmargin: 0;\n\ttransition: color, background .3s;\n}\n\nbody {\n\tbackground: var(--bg-color);\n\tfont-family: var(--normal-font);\n\tcolor: var(--main-font-color);\n\tmargin: 0;\n\tpadding: calc(var(--nav-height) + 45px) 0 0 0;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n#root {\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 100vw;\n}\n"])),(function(e){return e.dark===r.dark?"hsl(243, 50%, 5%)":"hsl(243,100%,30%)"}),(function(e){return e.dark===r.dark?"hsl(243,30%,20%)":"hsl(243,50%,80%)"}),(function(e){return e.dark===r.dark?"hsl(243, 40%, 10% )":"hsl(0,0%,100%)"}),(function(e){return e.dark===r.dark?"hsl(0, 75%, 30% )":"hsl(0,100%,50%)"}),(function(e){return e.dark===r.dark?"hsl(0, 0%,70%)":"hsl(0,0%,100%)"}),(function(e){return e.dark===r.dark?"hsl(0, 0%,70%)":"hsl(0,0%,100%)"}),(function(e){return e.dark===r.dark?"hsl(0,0%,70%)":"hsl(0,0%,0%)"})),Ut=d.b.footer(Un||(Un=Object(s.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  padding: 3em 5%;\n  background: var(--main-color);\n  width: 100%;\n  bottom: 0;\n  margin: 50px 0 0;\n  div{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: .5em;\n    color: var(--main-header-font-color);\n    &>div{\n      flex-direction: row;\n    }\n    h2 {\n      margin: .6em;\n    }\n    p{\n      font-size: 1.1rem;\n      margin: 0 .3em .3em;\n      transition: .4s all;\n      &:hover{\n        opacity: .6;\n        cursor: pointer;\n        transform: translateY(-.2em);\n      }\n    }\n  }\n"]))),Wt=function(){return Object(M.jsxs)(Ut,{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{children:"Contact"}),Object(M.jsx)("p",{children:"Email"}),Object(M.jsx)("p",{children:"Phone"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{children:"Not Social"}),Object(M.jsx)("p",{children:"Oh i hate nma liveee"}),Object(M.jsx)("p",{children:"Smthing stupid"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("h2",{children:"Social"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{children:Object(M.jsx)(l.a,{icon:"akar-icons:twitter-fill",width:"30",height:"30"})}),Object(M.jsx)("p",{children:Object(M.jsx)(l.a,{icon:"bx:bxl-facebook-square",width:"30",height:"30"})}),Object(M.jsx)("p",{children:Object(M.jsx)(l.a,{icon:"akar-icons:linkedin-fill",width:"30",height:"30"})}),Object(M.jsx)("p",{children:Object(M.jsx)(l.a,{icon:"bx:bxl-instagram-alt",width:"30",height:"30"})})]})]})]})},zt=t(269),Mt=t(267),Gt=function(){var e=z(C),n=e.vertical,t=e.horizontal,r=e.open,a=e.alert,c=e.message,o=W();return Object(M.jsx)("div",{children:Object(M.jsx)(zt.a,{anchorOrigin:{vertical:n,horizontal:t},open:r,onClose:function(){o(A())},autoHideDuration:4e3,children:Object(M.jsx)(Mt.a,{variant:"filled",severity:a,children:c})},n+t)})},Ft=t(272),Pt=d.b.div(Wn||(Wn=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  inset: 0 0 0 0;\n  background: var(--secondary-color);\n"]))),qt=function(){return Object(M.jsx)(Pt,{children:Object(M.jsx)(Qn.a,{sx:{minWidth:"300px",maxWidth:"1000px",width:"85%"},children:Object(M.jsx)(Ft.a,{color:"inherit"})})})},Kt=(t(194),d.b.div(zn||(zn=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  inset: 100px 150px;\n  padding: 3em 5em;\n  background: var(--secondary-color);\n  border-radius: 10px;\n  & > img {\n    width: 30%;\n  }\n  & > div {\n    *{\n      margin: 1em 0;\n    }\n    padding: 2em;\n    width: 60%;\n    display: flex;\n    flex-direction: column;\n  }\n"])))),Lt=function(){var e=z(St),n=e.ISBN,t=e.authors,r=e.title,a=e.cover,c=W();return Object(M.jsxs)(Kt,{children:[Object(M.jsx)("img",{src:a,alt:"Book Cover"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(on.a,{variant:"contained",color:"error",onClick:function(){c(wt())},children:"Close"}),Object(M.jsx)("h1",{children:r}),Object(M.jsx)("h2",{children:t}),Object(M.jsxs)("h3",{children:["ISBN: ",n]}),Object(M.jsx)("p",{children:"jskdhfsahf;alshdfncxne\nasdhfashdfasdhfasldhfsadhsdfhsjdhfkjashdfjjskdhfsahf;alshdfncxne\nasdhfashdfasdhfasldhfsadhsdfhsjdhfkjashdfjjskdhfsahf;alshdfncxne\nasdhfashdfasdhfasldhfsadhsdfhsjdhfkjashdfjjskdhfsahf;alshdfncxne\nasdhfashdfasdhfasldhfsadhsdfhsjdhfkjashdfj\nEND"})]})]})},Ht=d.b.div(Mn||(Mn=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n  width: 90%;\n\tmin-height: 65vh;\n"])));var Vt=function(){var e=z(T),n=z(D),t=z(St),r=W();return Object(a.useEffect)((function(){return Object(ie.c)(ue,(function(e){var n={id:e?e.uid:null,email:e?e.email:null};r(X(n)),e?(r({type:y.GET_DATA}),r(function(e){return{type:w.CHECK_ADMIN_PRIV,payload:e}}(e.uid))):r({type:y.EMPTY_DATA})}))}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(_t,{dark:e}),Object(M.jsx)(Gt,{}),Object(M.jsx)(Ge,{}),Object(M.jsx)(Ht,{role:"main",children:Object(M.jsx)(Ct,{})}),Object(M.jsx)(Wt,{}),t.open&&Object(M.jsx)(Lt,{}),n&&Object(M.jsx)(qt,{})]})},Jt=t(153),Yt=t(22),Qt=re.a.mark(er),Zt=re.a.mark(nr),Xt=re.a.mark(tr),$t=re.a.mark(rr);function er(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getBookSaga"),e.next=3,Object(Yt.a)([nr()]);case 3:case"end":return e.stop()}}),Qt)}function nr(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getBookWatcherTriggered"),e.next=3,Object(Yt.f)(g.GET_BOOK,tr);case 3:return e.next=5,Object(Yt.e)(g.SAVE_BOOK,rr);case 5:case"end":return e.stop()}}),Zt)}function tr(e){var n,t,r,a,c,o,i;return re.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("getBookWorkerTriggered"),s.prev=1,s.next=4,Object(Yt.b)(ar,e.payload);case 4:if(n=s.sent,0!==Object.keys(n).length){s.next=10;break}return s.next=8,Object(Yt.d)(Ce({alert:"warning",message:"Recived empty response, probably wrong ISBN"}));case 8:s.next=16;break;case 10:return t="ISBN:".concat(e.payload),r=n[t],a=r.by_statement,c=r.title,o=r.cover,i="",((null===o||void 0===o?void 0:o.large)||(null===o||void 0===o?void 0:o.medium)||(null===o||void 0===o?void 0:o.small))&&(i=o.large),s.next=16,Object(Yt.d)((d={id:"",authors:[a],title:c,ISBN:e.payload,available:!0,cover:i},{type:g.SAVE_BOOK,payload:d}));case 16:s.next=23;break;case 18:return s.prev=18,s.t0=s.catch(1),console.log(s.t0),s.next=23,Object(Yt.d)(Ce({alert:"error",message:"Something went wrong with reciving book data from OpenLib"}));case 23:case"end":return s.stop()}var d}),Xt,null,[[1,18]])}function rr(e){return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Yt.d)(gn(e.payload));case 2:case"end":return n.stop()}}),$t)}var ar=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t,r,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://openlibrary.org/api/books?bibkeys=ISBN:"+n+"&format=json&jscmd=data",e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.next=9,a;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),cr=re.a.mark(ir),or=re.a.mark(sr);function ir(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("errorWatcher"),e.next=3,Object(Yt.e)(k.ERROR,sr);case 3:case"end":return e.stop()}}),cr)}function sr(e){return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("errorWorker"),n.next=3,Object(Yt.d)(I(e.payload));case 3:case"end":return n.stop()}}),or)}var dr=ir,lr=re.a.mark(fr),ur=re.a.mark(xr),br=re.a.mark(pr),jr=re.a.mark(mr),hr=re.a.mark(Or);function fr(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("FirebaseDataWatcher"),e.next=3,Object(Yt.e)(y.GET_DATA,pr);case 3:return e.next=5,Object(Yt.e)(y.EMPTY_DATA,mr);case 5:return e.next=7,Object(Yt.e)(w.GET_USERS,Or);case 7:return e.next=9,Object(Yt.e)(w.CHECK_ADMIN_PRIV,xr);case 9:case"end":return e.stop()}}),lr)}function xr(e){var n,t,r,a,c,o,i;return re.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.payload,s.prev=1,s.next=4,Object(Yt.b)(kr,n);case 4:if(!s.sent){s.next=32;break}return s.next=8,Object(Yt.d)($());case 8:return s.next=10,Object(Yt.d)({type:w.GET_USERS});case 10:if(t=sessionStorage.getItem("toAdd"),!(r=sessionStorage.getItem("toDelete"))){s.next=21;break}a=JSON.parse(r),s.t0=re.a.keys(a);case 15:if((s.t1=s.t0()).done){s.next=21;break}return c=s.t1.value,s.next=19,Object(Yt.d)($e(a[c]));case 19:s.next=15;break;case 21:if(!t){s.next=30;break}o=JSON.parse(t),s.t2=re.a.keys(o);case 24:if((s.t3=s.t2()).done){s.next=30;break}return i=s.t3.value,s.next=28,Object(Yt.d)(Xe(o[i]));case 28:s.next=24;break;case 30:s.next=34;break;case 32:return s.next=34,Object(Yt.d)(_e(n));case 34:return s.next=36,Object(Yt.d)(Ce({alert:"info",message:"Succesfully loged in"}));case 36:s.next=43;break;case 38:return s.prev=38,s.t4=s.catch(1),console.log(s.t4),s.next=43,Object(Yt.d)(Ce({alert:"error",message:"Something went wrong during authentication"}));case 43:return s.prev=43,s.next=46,Object(Yt.d)(R(!1));case 46:return s.finish(43);case 47:case"end":return s.stop()}}),ur,null,[[1,38,43,47]])}function pr(){var e;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("getFirebaseDataWorker"),n.prev=1,n.next=4,Object(Yt.b)(vr);case 4:return e=n.sent,n.next=7,Object(Yt.d)(pe(e));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(Yt.d)(Ce({alert:"error",message:"Couldn't retrieve data from database"}));case 13:case"end":return n.stop()}}),br,null,[[1,9]])}function mr(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("emptyFirebaseDataWorker"),e.next=3,Object(Yt.d)(pe([]));case 3:return e.next=5,Object(Yt.d)(R(!1));case 5:case"end":return e.stop()}}),jr)}function Or(){var e;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Yt.b)(gr);case 3:return e=n.sent,n.next=6,Object(Yt.d)(et(e));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Yt.d)(Ce({alert:"error",message:"Couldn't retrive data from database"}));case 12:case"end":return n.stop()}}),hr,null,[[0,8]])}var vr=function(){var e=Object(ae.a)(re.a.mark((function e(){var n,t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.h)(Object(ce.d)(le,"BookEntry"));case 2:return n=e.sent,t=n.docs.map((function(e){var n=e.data(),t=n.authors,r=n.title,a=n.cover,c=n.ISBN,o=n.available;return{id:e.id,authors:t,title:r,cover:a,ISBN:c,available:o}})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=Object(ae.a)(re.a.mark((function e(){var n,t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.h)(Object(ce.d)(le,"users"));case 2:return n=e.sent,t=n.docs.map((function(e){return Object(u.a)({id:e.id},e.data())})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kr=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.g)(Object(ce.f)(le,"users",n));case 2:if(!(t=e.sent).exists()){e.next=5;break}return e.abrupt("return",t.data().admin);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),yr=re.a.mark(Br),wr=re.a.mark(Er),Sr=re.a.mark(Ar);function Br(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UserUpdateWatcher"),e.next=3,Object(Yt.e)(w.CHANGE_STATUS,Ar);case 3:return e.next=5,Object(Yt.e)(y.UPDATE_REQUESTS,Er);case 5:case"end":return e.stop()}}),yr)}function Er(e){var n,t,r,a,c,o,i,s,d,l,u,b,j;return re.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:console.log("updateDBWorker"),n=e.payload,t=n.toAdd,r=n.toDelete,h.prev=2,h.t0=re.a.keys(t);case 4:if((h.t1=h.t0()).done){h.next=14;break}return a=h.t1.value,c=t[a],o=c.ISBN,i=c.authors,s=c.title,d=c.cover,h.next=9,Object(Yt.b)(Ir,{ISBN:o,authors:i,title:s,cover:d});case 9:return l=h.sent,h.next=12,Object(Yt.d)(me({id:l,ISBN:o,authors:i,title:s,cover:d,available:!0}));case 12:h.next=4;break;case 14:u=new Set,h.t2=re.a.keys(r);case 16:if((h.t3=h.t2()).done){h.next=24;break}return b=h.t3.value,j=r[b].id,h.next=21,Object(Yt.b)(Rr,j);case 21:u.add(j),h.next=16;break;case 24:return h.next=26,Object(Yt.d)(Oe(u));case 26:return h.next=28,Object(Yt.d)(tn());case 28:return h.next=30,Object(Yt.d)(Ce({alert:"success",message:"Updates were successfull"}));case 30:h.next=37;break;case 32:return h.prev=32,h.t4=h.catch(2),console.log(h.t4),h.next=37,Object(Yt.d)(Ce({alert:"error",message:"Error occured during fullfilling requests"}));case 37:case"end":return h.stop()}}),wr,null,[[2,32]])}function Ar(e){var n,t,r;return re.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("UserUpdateWorker"),n=e.payload,t=n.id,r=n.admin,a.prev=2,a.next=5,Object(Yt.b)(Nr,t,r);case 5:return a.next=7,Object(Yt.d)(nt({id:t,admin:r}));case 7:return a.next=9,Object(Yt.d)(Ce({alert:"success",message:"Changed successfully"}));case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(2),console.log(a.t0),a.next=16,Object(Yt.d)(Ce({alert:"error",message:"Something went wrong with status changes"}));case 16:case"end":return a.stop()}}),Sr,null,[[2,11]])}var Nr=function(){var e=Object(ae.a)(re.a.mark((function e(n,t){var r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ce.f)(le,"users",n),e.next=3,Object(ce.k)(r,{admin:t});case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Rr=function(){var e=Object(ae.a)(re.a.mark((function e(n){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.e)(Object(ce.f)(le,"BookEntry",n));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ir=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.a)(Object(ce.d)(le,"BookEntry"),Object(u.a)(Object(u.a)({},n),{},{available:!0}));case 2:return t=e.sent,e.abrupt("return",t.id);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Tr=re.a.mark(_r),Dr=re.a.mark(Ur),Cr=re.a.mark(Wr);function _r(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("borrowReturnWatcher"),e.next=3,Object(Yt.e)(w.GET_BORROWED,Ur);case 3:return e.next=5,Object(Yt.e)(w.BORROW_RETURN,Wr);case 5:case"end":return e.stop()}}),Tr)}function Ur(e){var n;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getBorrowedBooksWorker"),t.prev=1,t.next=4,Object(Yt.b)(Gr,e.payload);case 4:return n=t.sent,t.next=7,Object(Yt.d)(dt(n.books));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),t.next=13,Object(Yt.d)(Ce({alert:"error",message:"Something went wrong with reciving borrowed books data"}));case 13:case"end":return t.stop()}}),Dr,null,[[1,9]])}function Wr(e){var n,t,r,a;return re.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("BorrowWorker"),n=e.payload,t=n.id,r=n.uid,a=n.status,c.prev=2,c.next=5,Object(Yt.b)(zr,t,a);case 5:return c.next=7,Object(Yt.b)(Mr,r,t,a);case 7:return c.next=9,Object(Yt.d)(ve({id:t,available:a}));case 9:if(!a){c.next=16;break}return c.next=12,Object(Yt.d)(lt(t));case 12:return c.next=14,Object(Yt.d)(Ce({alert:"info",message:"Book returned"}));case 14:c.next=20;break;case 16:return c.next=18,Object(Yt.d)(ut(t));case 18:return c.next=20,Object(Yt.d)(Ce({alert:"info",message:"Book borrowed"}));case 20:c.next=26;break;case 22:return c.prev=22,c.t0=c.catch(2),c.next=26,Object(Yt.d)(Ce({alert:"error",message:"Couldn't borrow/return book, error occured"}));case 26:case"end":return c.stop()}}),Cr,null,[[2,22]])}var zr=function(){var e=Object(ae.a)(re.a.mark((function e(n,t){var r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ce.f)(le,"BookEntry",n),e.next=3,Object(ce.k)(r,{available:t});case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Mr=function(){var e=Object(ae.a)(re.a.mark((function e(n,t,r){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(ce.f)(le,"borrowed",n),!r){e.next=6;break}return e.next=4,Object(ce.k)(a,{books:Object(ce.b)(t)});case 4:e.next=8;break;case 6:return e.next=8,Object(ce.k)(a,{books:Object(ce.c)(t)});case 8:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Gr=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ce.f)(le,"borrowed",n),e.next=3,Object(ce.g)(t);case 3:if(!(r=e.sent).exists()){e.next=6;break}return e.abrupt("return",r.data());case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Fr=re.a.mark(Pr);function Pr(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("rootSaga"),e.next=3,Object(Yt.a)([Object(Yt.c)(er),Object(Yt.c)(dr),Object(Yt.c)(Br),Object(Yt.c)(fr),Object(Yt.c)(_r)]);case 3:case"end":return e.stop()}}),Fr)}var qr=Pr,Kr=Object(Jt.a)(),Lr=Object(b.a)({reducer:{found:yn,books:ke,borrowedBooks:ht,addFormState:Vn,componentsState:_,currentUser:ne,requests:cn,usersData:rt,currentRead:Bt},middleware:function(e){return e().prepend(Kr)}});Kr.run(qr),i.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(P.a,{children:Object(M.jsx)(U.a,{store:Lr,children:Object(M.jsx)(Vt,{})})})}),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.4a4a4179.chunk.js.map